<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Pet Adoption | Find Your Perfect Companion</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet" />
	<link rel="preconnect" href="https://fonts.gstatic.com" />
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet" />
	<style>
		:root {
			--pink: #ec4899;
			--pink-hover: #db2777;
			--ink: #1f2937;
			--bg: #f8fafc;
			--card: #ffffff;
			--muted: #6b7280;
			--success: #10b981;
			--warning: #f59e0b
		}

		[data-theme="dark"] {
			--bg: #0b1321;
			--card: #0f172a;
			--ink: #e5e7eb;
			--muted: #94a3b8;
			--success: #34d399;
			--warning: #fbbf24
		}

		* {
			transition: background-color .3s ease, color .3s ease, border-color .3s ease
		}

		html {
			scroll-behavior: smooth
		}

		body {
			font-family: Poppins, system-ui, Segoe UI, Roboto, Arial, sans-serif;
			background: var(--bg);
			color: var(--ink);
			overflow-x: hidden;
		}

		.btn-brand {
			background: var(--pink);
			border-color: var(--pink);
			color: #fff;
			transition: all .3s ease;
		}

		.btn-brand:hover {
			background: var(--pink-hover);
			border-color: var(--pink-hover);
			transform: translateY(-2px);
			box-shadow: 0 4px 12px rgba(236, 72, 153, .3);
		}

		.navbar-brand {
			display: flex;
			align-items: center;
			gap: .5rem
		}

		.navbar-brand img {
			height: 40px;
			width: auto
		}

		.navbar {
			--bs-navbar-color: var(--ink);
			--bs-navbar-brand-color: var(--ink);
			--bs-navbar-hover-color: var(--pink);
			background: transparent !important;
			backdrop-filter: none;
			border-bottom: 1px solid transparent;
			transition: background-color .3s ease, border-color .3s ease, box-shadow .3s ease, color .3s ease;
		}

		.navbar.scrolled {
			background: var(--bg) !important;
			border-bottom-color: rgba(0, 0, 0, .06);
			box-shadow: 0 6px 20px rgba(0, 0, 0, .06);
		}

		[data-theme="dark"] .navbar.scrolled {
			border-bottom-color: rgba(255, 255, 255, .08);
			box-shadow: 0 6px 20px rgba(0, 0, 0, .4);
		}

		.navbar .navbar-toggler {
			border-color: transparent
		}

		.navbar .navbar-toggler-icon {
			background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 30 30'%3e%3cpath stroke='%231f2937' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
		}

		[data-theme="dark"] .navbar .navbar-toggler-icon {
			background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 30 30'%3e%3cpath stroke='%23e5e7eb' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
		}

		.hero {
			position: relative;
			min-height: 75vh;
			display: grid;
			place-items: center;
			background: linear-gradient(120deg, #fde7f3, transparent), url('https://images.unsplash.com/photo-1450778869180-41d0601e046e?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
			overflow: hidden;
		}

		[data-theme="dark"] .hero {
			background: linear-gradient(120deg, #2d1a25, transparent), url('https://images.unsplash.com/photo-1450778869180-41d0601e046e?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
		}

		.hero .mask {
			position: absolute;
			inset: 0;
			background: linear-gradient(180deg, rgba(0, 0, 0, .1), rgba(0, 0, 0, .5))
		}

		.hero h1,
		.hero p {
			color: #fff;
			text-shadow: 0 2px 8px rgba(0, 0, 0, .3)
		}

		.hero h1 {
			animation: fadeInUp 1s ease
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(30px)
			}

			to {
				opacity: 1;
				transform: translateY(0)
			}
		}

		.section-title {
			font-weight: 800;
			position: relative;
			display: inline-block
		}

		.section-title::after {
			content: '';
			position: absolute;
			bottom: -8px;
			left: 0;
			width: 60px;
			height: 4px;
			background: var(--pink);
			border-radius: 2px
		}

		.pet-card {
			border: none;
			background: var(--card);
			box-shadow: 0 10px 25px rgba(0, 0, 0, .05);
			transition: all .3s ease;
			border-radius: 1rem;
			overflow: hidden;
			position: relative;
			cursor: pointer
		}

		.pet-card:hover {
			transform: translateY(-8px);
			box-shadow: 0 20px 40px rgba(0, 0, 0, .12)
		}

		.pet-card .fav-heart {
			position: absolute;
			top: 12px;
			right: 12px;
			z-index: 10;
			width: 40px;
			height: 40px;
			border-radius: 50%;
			background: rgba(255, 255, 255, .9);
			display: grid;
			place-items: center;
			cursor: pointer;
			transition: all .3s ease;
			font-size: 1.2rem
		}

		.pet-card .fav-heart:hover {
			transform: scale(1.1)
		}

		.pet-card .fav-heart.active {
			background: var(--pink);
			color: #fff
		}

		.badge-species {
			background: #e2e8f0;
			color: #111;
			border-radius: 999px;
			font-weight: 600
		}

		[data-theme="dark"] .badge-species {
			background: #1f2937;
			color: #e5e7eb
		}

		.sticky-tools {
			position: sticky;
			top: 90px;
			z-index: 9
		}

		.filter-card {
			background: var(--card);
			border-radius: 1rem;
			padding: 1.5rem;
			box-shadow: 0 4px 12px rgba(0, 0, 0, .05)
		}

		.favorites-area {
			border: 2px dashed var(--muted);
			border-radius: 1rem;
			min-height: 140px;
			padding: 1rem;
			color: var(--muted);
			transition: all .3s ease
		}

		.favorites-area.drag-over {
			background: rgba(236, 72, 153, .1);
			border-color: var(--pink)
		}

		.fav-item {
			display: flex;
			align-items: center;
			gap: .75rem;
			padding: .5rem;
			background: var(--bg);
			border-radius: .5rem;
			margin-bottom: .5rem;
			transition: all .2s ease
		}

		.fav-item:hover {
			transform: translateX(4px)
		}

		.fav-item img {
			width: 50px;
			height: 50px;
			border-radius: .5rem;
			object-fit: cover
		}

		.fav-item .remove {
			margin-left: auto;
			cursor: pointer;
			color: var(--muted);
			font-size: 1.2rem
		}

		.fav-item .remove:hover {
			color: #ef4444
		}

		.toast-box {
			position: fixed;
			right: 1rem;
			bottom: 1rem;
			z-index: 1080;
			max-width: 300px
		}

		.toast-msg {
			background: var(--card);
			border: 1px solid #e5e7eb;
			padding: 1rem 1.25rem;
			border-radius: .75rem;
			box-shadow: 0 8px 20px rgba(0, 0, 0, .15);
			margin-top: .5rem;
			display: flex;
			align-items: center;
			gap: .75rem
		}

		.toast-msg::before {
			content: '‚úì';
			display: grid;
			place-items: center;
			width: 24px;
			height: 24px;
			border-radius: 50%;
			background: var(--success);
			color: #fff;
			font-weight: bold;
			flex-shrink: 0
		}

		.theme-toggle {
			cursor: pointer;
			transition: transform .3s ease
		}

		.theme-toggle:hover {
			transform: rotate(15deg)
		}

		.back-to-top {
			position: fixed;
			right: 1rem;
			bottom: 1rem;
			display: none;
			width: 50px;
			height: 50px;
			border-radius: 50%;
			background: var(--pink);
			color: #fff;
			border: none;
			box-shadow: 0 4px 12px rgba(236, 72, 153, .3);
			font-size: 1.5rem;
			z-index: 1000
		}

		.back-to-top:hover {
			transform: translateY(-4px);
			box-shadow: 0 6px 16px rgba(236, 72, 153, .4)
		}

		.counter {
			font-size: 2.5rem;
			font-weight: 800;
			background: linear-gradient(135deg, var(--pink), #db2777);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text
		}

		.lightbox {
			position: fixed;
			inset: 0;
			background: rgba(0, 0, 0, .75);
			backdrop-filter: blur(5px);
			display: none;
			align-items: center;
			justify-content: center;
			z-index: 2000;
			padding: 1rem
		}

		.lightbox .panel {
			max-width: 900px;
			width: 100%;
			background: var(--card);
			border-radius: 1.5rem;
			overflow: hidden;
			animation: modalSlideIn .3s ease;
			max-height: 90vh;
			overflow-y: auto
		}

		@keyframes modalSlideIn {
			from {
				opacity: 0;
				transform: translateY(30px)
			}

			to {
				opacity: 1;
				transform: translateY(0)
			}
		}

		.carousel-lite {
			position: relative;
			height: 400px;
			background: #000
		}

		.carousel-lite img {
			object-fit: cover;
			width: 100%;
			height: 100%
		}

		.carousel-lite .nav {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
			font-size: 2rem;
			color: #fff;
			width: 45px;
			height: 45px;
			background: rgba(0, 0, 0, .5);
			border-radius: 50%;
			cursor: pointer;
			display: grid;
			place-items: center;
			transition: all .3s ease
		}

		.carousel-lite .nav:hover {
			background: rgba(0, 0, 0, .75);
			transform: translateY(-50%) scale(1.1)
		}

		.carousel-lite .nav.prev {
			left: 1rem
		}

		.carousel-lite .nav.next {
			right: 1rem
		}

		.carousel-indicators {
			position: absolute;
			bottom: 1rem;
			left: 50%;
			transform: translateX(-50%);
			display: flex;
			gap: .5rem
		}

		.carousel-indicators span {
			width: 8px;
			height: 8px;
			border-radius: 50%;
			background: rgba(255, 255, 255, .5);
			cursor: pointer;
			transition: all .3s ease
		}

		.carousel-indicators span.active {
			background: #fff;
			width: 24px;
			border-radius: 4px
		}

		.quiz .option {
			border: 2px solid #e5e7eb;
			border-radius: .75rem;
			padding: .75rem 1rem;
			cursor: pointer;
			transition: all .3s ease;
			background: var(--card)
		}

		.quiz .option:hover {
			border-color: var(--pink);
			transform: translateX(4px)
		}

		.quiz .option.selected {
			border-color: var(--pink);
			background: rgba(236, 72, 153, .1)
		}

		.quiz .option.correct {
			background: #dcfce7;
			border-color: #22c55e
		}

		.quiz .option.wrong {
			background: #fee2e2;
			border-color: #ef4444
		}

		.stats-badge {
			display: inline-flex;
			align-items: center;
			gap: .5rem;
			padding: .5rem 1rem;
			background: var(--bg);
			border-radius: 999px;
			font-size: .875rem;
			font-weight: 600
		}

		.loading-spinner {
			display: none;
			width: 40px;
			height: 40px;
			border: 4px solid rgba(236, 72, 153, .2);
			border-top-color: var(--pink);
			border-radius: 50%;
			animation: spin 1s linear infinite;
			margin: 2rem auto
		}

		@keyframes spin {
			to {
				transform: rotate(360deg)
			}
		}

		.empty-state {
			text-align: center;
			padding: 3rem 1rem;
			color: var(--muted)
		}

		.empty-state-icon {
			font-size: 4rem;
			margin-bottom: 1rem;
			opacity: .5
		}

		@media (max-width:991px) {
			.sticky-tools {
				position: static
			}

			.hero {
				min-height: 60vh
			}
		}
	</style>
</head>

<body>
	<nav class="navbar navbar-expand-lg sticky-top py-3">
		<div class="container">
			<a class="navbar-brand fw-bold" href="#">
				<img src="https://icatcare.org/img/icclogo.png" alt="Logo">
			</a>
			<button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div id="nav" class="collapse navbar-collapse">
				<ul class="navbar-nav ms-auto gap-lg-3 align-items-lg-center">
					<li class="nav-item"><a class="nav-link" href="#about" data-i18n="nav_about">About</a></li>
					<li class="nav-item"><a class="nav-link" href="#pets" data-i18n="nav_pets">Adopt</a></li>
					<li class="nav-item"><a class="nav-link" href="#quiz" data-i18n="nav_quiz">Quiz</a></li>
					<li class="nav-item"><a class="nav-link" href="#contact" data-i18n="nav_contact">Contact</a></li>
					<li class="nav-item dropdown translate-toggle">
						<a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown">üåê</a>
						<ul class="dropdown-menu dropdown-menu-end">
							<li><a class="dropdown-item lang" data-lang="en">English</a></li>
							<li><a class="dropdown-item lang" data-lang="kz">“ö–∞–∑–∞“õ—à–∞</a></li>
							<li><a class="dropdown-item lang" data-lang="ru">–†—É—Å—Å–∫–∏–π</a></li>
						</ul>
					</li>
					<li class="nav-item"><button class="btn btn-sm btn-outline-secondary theme-toggle"
							id="themeBtn">üåô</button></li>
					<li class="nav-item"><a class="btn btn-sm btn-brand" href="#adopt" data-i18n="btn_donate">Adopt
							now</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<header class="hero">
		<div class="mask"></div>
		<div class="container position-relative text-center" data-aos="fade-up">
			<h1 class="display-4 fw-bold" data-i18n="hero_title">Find your new best friend</h1>
			<p class="lead mb-4" data-i18n="hero_sub">Every pet deserves a loving home. Browse, meet and adopt today.
			</p>
			<a href="#pets" class="btn btn-lg btn-brand" data-i18n="hero_cta">Browse pets</a>
		</div>
	</header>

	<section class="py-5" id="about">
		<div class="container">
			<div class="row align-items-center g-5">
				<div class="col-lg-6" data-aos="fade-right">
					<h2 class="section-title mb-4" data-i18n="about_title">We improve the lives of pets and people</h2>
					<p class="mb-4 fs-5" data-i18n="about_p1">Our volunteers rescue, care and rehome cats and dogs. We
						share expert advice and run community programs that make adoption simple and joyful.</p>
					<div class="row text-center g-4">
						<div class="col-4">
							<div class="counter" data-count="1200">0</div>
							<div class="text-muted fw-semibold" data-i18n="c1">Adoptions</div>
						</div>
						<div class="col-4">
							<div class="counter" data-count="85">0</div>
							<div class="text-muted fw-semibold" data-i18n="c2">Volunteers</div>
						</div>
						<div class="col-4">
							<div class="counter" data-count="14">0</div>
							<div class="text-muted fw-semibold" data-i18n="c3">Shelters</div>
						</div>
					</div>
				</div>
				<div class="col-lg-6 text-center" data-aos="fade-left">
					<img class="img-fluid rounded-4 shadow" alt="Pet"
						src="https://images.unsplash.com/photo-1548199973-03cce0bbc87b?q=80&w=1200&auto=format&fit=crop"
						loading="lazy" />
				</div>
			</div>
		</div>
	</section>

	<section class="py-5 bg-body-tertiary" id="pets">
		<div class="container">
			<div class="row g-4">
				<div class="col-lg-3">
					<div class="sticky-tools">
						<div class="filter-card mb-3">
							<h3 class="section-title h5 mb-3" data-i18n="pets_title">Adoptable pets</h3>
							<div class="stats-badge mb-3 w-100 justify-content-center">
								<span id="petCount">0</span> <span data-i18n="pets_found">pets found</span>
							</div>
							<input id="search" class="form-control mb-3" placeholder="Search by name" />
							<select id="species" class="form-select mb-3">
								<option value="" selected>All species</option>
								<option>Cat</option>
								<option>Dog</option>
								<option>Rabbit</option>
							</select>
							<select id="sort" class="form-select">
								<option value="name">Sort: Name</option>
								<option value="age">Sort: Age</option>
							</select>
						</div>

						<div class="filter-card">
							<div class="d-flex justify-content-between align-items-center mb-3">
								<h5 class="m-0" data-i18n="fav_title">Favorites</h5>
								<span class="badge bg-pink text-white" id="favCount">0</span>
							</div>
							<div class="favorites-area" id="favorites">
								<div class="text-center">
									<div class="fw-semibold mb-1" data-i18n="fav_empty">No favorites yet</div>
									<small class="d-block text-muted" data-i18n="fav_desc">Click hearts to add
										pets</small>
								</div>
							</div>
							<button class="btn btn-outline-secondary w-100 mb-2 mt-3" id="copyFav"
								data-i18n="copy_btn">Copy favorites</button>
							<button class="btn btn-outline-danger w-100" id="clearFav" data-i18n="clear_btn">Clear
								favorites</button>
						</div>
					</div>
				</div>
				<div class="col-lg-9">
					<div class="loading-spinner"></div>
					<div class="row g-4" id="petGrid"></div>
					<div class="empty-state" id="emptyState" style="display:none;">
						<div class="empty-state-icon">üîç</div>
						<h4 data-i18n="no_results">No pets found</h4>
						<p class="text-muted" data-i18n="no_results_desc">Try adjusting your filters</p>
					</div>
					<div class="text-center mt-4"><button id="loadMore" class="btn btn-outline-secondary"
							style="display:none;">Load more</button></div>
				</div>
			</div>
		</div>
	</section>

	<section class="py-5" id="quiz">
		<div class="container">
			<h3 class="section-title mb-4" data-i18n="quiz_title">Quick quiz: Which pet suits you?</h3>
			<div class="quiz row g-3">
				<div class="col-md-4">
					<div class="p-4 rounded-4 bg-body-tertiary h-100">
						<div class="fw-semibold mb-3" data-i18n="q1">How much time can you spend daily?</div>
						<div class="d-grid gap-2">
							<div class="option" data-q="1" data-score="1" data-i18n="q1a1">Less than 1 hour</div>
							<div class="option" data-q="1" data-score="3" data-i18n="q1a2">1‚Äì2 hours</div>
							<div class="option" data-q="1" data-score="2" data-i18n="q1a3">3+ hours</div>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="p-4 rounded-4 bg-body-tertiary h-100">
						<div class="fw-semibold mb-3" data-i18n="q2">Preferred energy level?</div>
						<div class="d-grid gap-2">
							<div class="option" data-q="2" data-score="1" data-i18n="q2a1">Calm</div>
							<div class="option" data-q="2" data-score="2" data-i18n="q2a2">Moderate</div>
							<div class="option" data-q="2" data-score="3" data-i18n="q2a3">Very active</div>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="p-4 rounded-4 bg-body-tertiary h-100">
						<div class="fw-semibold mb-3" data-i18n="q3">Home size?</div>
						<div class="d-grid gap-2">
							<div class="option" data-q="3" data-score="1" data-i18n="q3a1">Small</div>
							<div class="option" data-q="3" data-score="2" data-i18n="q3a2">Medium</div>
							<div class="option" data-q="3" data-score="3" data-i18n="q3a3">Large</div>
						</div>
					</div>
				</div>
			</div>
			<div class="mt-4">
				<button id="quizCheck" class="btn btn-brand me-2" data-i18n="quiz_check">Check answers</button>
				<span id="quizResult" class="fw-semibold"></span>
			</div>
		</div>
	</section>

	<section class="py-5 bg-body-tertiary" id="contact">
		<div class="container">
			<div class="row g-5 align-items-center">
				<div class="col-lg-6">
					<h3 class="section-title mb-4" data-i18n="form_title">Apply to adopt</h3>
					<form id="adopt" novalidate class="needs-validation">
						<div class="row g-3">
							<div class="col-md-6">
								<label class="form-label" data-i18n="f_name">Full name</label>
								<input class="form-control" required id="fName" />
								<div class="invalid-feedback" data-i18n="f_name_err">Please enter your name</div>
							</div>
							<div class="col-md-6">
								<label class="form-label" data-i18n="f_email">Email</label>
								<input type="email" class="form-control" required id="fEmail" />
								<div class="invalid-feedback" data-i18n="f_email_err">Enter a valid email</div>
							</div>
							<div class="col-md-6">
								<label class="form-label" data-i18n="f_pet">Pet of interest</label>
								<input class="form-control" id="fPet" />
							</div>
							<div class="col-md-6">
								<label class="form-label">Adoption code</label>
								<div class="input-group">
									<input class="form-control" id="fCode" value="PAW-" readonly />
									<button class="btn btn-outline-secondary" type="button" id="copyCode"
										data-i18n="copy_code">Copy</button>
								</div>
							</div>
							<div class="col-12">
								<label class="form-label" data-i18n="f_msg">Message</label>
								<textarea class="form-control" rows="4" required id="fMsg"></textarea>
								<div class="invalid-feedback" data-i18n="f_msg_err">Tell us about your home</div>
							</div>
							<div class="col-12 d-flex align-items-center gap-3">
								<button class="btn btn-brand" type="submit" data-i18n="f_submit">Send</button>
								<div id="formToast" class="text-success fw-semibold"></div>
							</div>
						</div>
					</form>
				</div>
				<div class="col-lg-6 text-center" data-aos="zoom-in">
					<img class="img-fluid rounded-4 shadow"
						src="https://images.unsplash.com/photo-1450778869180-41d0601e046e?q=80&w=1200&auto=format&fit=crop"
						alt="Happy pets" loading="lazy" />
				</div>
			</div>
		</div>
	</section>

	<footer class="py-4 text-center">
		<div class="container">
			<div>¬© <span id="year"></span> Pet Adoption. Made with ‚ù§Ô∏è for pets.</div>
		</div>
	</footer>

	<button class="back-to-top" id="backTop">‚Üë</button>

	<div class="lightbox" id="lightbox">
		<div class="panel">
			<div class="carousel-lite position-relative">
				<span class="nav prev">‚Äπ</span>
				<img id="lbImg" alt="Pet" />
				<span class="nav next">‚Ä∫</span>
				<div class="carousel-indicators" id="indicators"></div>
			</div>
			<div class="p-4">
				<div class="d-flex justify-content-between align-items-start mb-3">
					<div>
						<h4 id="lbTitle" class="mb-1"></h4>
						<div class="small text-muted"><span id="lbMeta"></span></div>
					</div>
					<span class="badge badge-species px-3" id="lbSpecies"></span>
				</div>
				<p id="lbDesc" class="mb-4"></p>
				<div class="d-flex gap-2">
					<button class="btn btn-brand flex-grow-1" id="lbAdopt">I'm interested</button>
					<button class="btn btn-outline-secondary" id="lbClose">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="toast-box" id="toasts"></div>

	<script id="petData" type="application/json">[
    {"id":1,"name":"Momo","species":"Cat","age":2,"gender":"F","images":["https://images.unsplash.com/photo-1511044568932-338cba0ad803?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1573865526739-10659fec78a5?q=80&w=1200&auto=format&fit=crop"],"desc":"Playful and curious, loves feathers."},
    {"id":2,"name":"Rex","species":"Dog","age":3,"gender":"M","images":["https://images.unsplash.com/photo-1552053831-71594a27632d?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1619983081563-430f63602796?q=80&w=1200&auto=format&fit=crop"],"desc":"Gentle walker, good with kids."},
    {"id":3,"name":"Luna","species":"Cat","age":1,"gender":"F","images":["https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1495360010541-f48722b34f7d?q=80&w=1200&auto=format&fit=crop"],"desc":"Quiet cuddler and purr machine."},
    {"id":4,"name":"Bolt","species":"Dog","age":5,"gender":"M","images":["https://images.unsplash.com/photo-1543466835-00a7907e9de1?q=80&w=1200&auto=format&fit=crop"],"desc":"Fetch champion, house trained."},
    {"id":5,"name":"Pepper","species":"Rabbit","age":2,"gender":"F","images":["https://images.unsplash.com/photo-1585110396000-c9ffd4e4b308?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1535241749838-299277b6305f?q=80&w=1200&auto=format&fit=crop"],"desc":"Soft hopper who loves carrots."},
    {"id":6,"name":"Max","species":"Dog","age":4,"gender":"M","images":["https://images.unsplash.com/photo-1517423440428-a5a00ad493e8?q=80&w=1200&auto=format&fit=crop"],"desc":"Loyal and calm, apartment friendly."},
    {"id":7,"name":"Nala","species":"Cat","age":3,"gender":"F","images":["https://images.unsplash.com/photo-1574158622682-e40e69881006?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1548681528-6a5c45b66b42?q=80&w=1200&auto=format&fit=crop"],"desc":"Talkative foodie, laser-chaser."},
    {"id":8,"name":"Khan","species":"Dog","age":1,"gender":"M","images":["https://images.unsplash.com/photo-1587300003388-59208cc962cb?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1477884213360-7e9d7dcc1e48?q=80&w=1200&auto=format&fit=crop"],"desc":"Puppy energy, eager to learn."}
  ]</script>

	<script id="i18nData" type="application/json">{
    "en":{"nav_about":"About","nav_pets":"Adopt","nav_quiz":"Quiz","nav_contact":"Contact","btn_donate":"Adopt now","hero_title":"Find your new best friend","hero_sub":"Every pet deserves a loving home. Browse, meet and adopt today.","hero_cta":"Browse pets","about_title":"We improve the lives of pets and people","about_p1":"Our volunteers rescue, care and rehome cats and dogs. We share expert advice and run community programs that make adoption simple and joyful.","c1":"Adoptions","c2":"Volunteers","c3":"Shelters","pets_title":"Adoptable pets","pets_found":"pets found","fav_title":"Favorites","fav_empty":"No favorites yet","fav_desc":"Click hearts to add pets","copy_btn":"Copy favorites","clear_btn":"Clear favorites","no_results":"No pets found","no_results_desc":"Try adjusting your filters","quiz_title":"Quick quiz: Which pet suits you?","q1":"How much time can you spend daily?","q1a1":"Less than 1 hour","q1a2":"1‚Äì2 hours","q1a3":"3+ hours","q2":"Preferred energy level?","q2a1":"Calm","q2a2":"Moderate","q2a3":"Very active","q3":"Home size?","q3a1":"Small","q3a2":"Medium","q3a3":"Large","quiz_check":"Check answers","form_title":"Apply to adopt","f_name":"Full name","f_name_err":"Please enter your name","f_email":"Email","f_email_err":"Enter a valid email","f_pet":"Pet of interest","copy_code":"Copy","f_msg":"Message","f_msg_err":"Tell us about your home","f_submit":"Send"},
    "kz":{"nav_about":"–ë—ñ–∑ —Ç—É—Ä–∞–ª—ã","nav_pets":"“Æ–π –∂–∞–Ω—É–∞—Ä–ª–∞—Ä—ã","nav_qu–∏–∑":"–¢–µ—Å—Ç","nav_contact":"–ë–∞–π–ª–∞–Ω—ã—Å","btn_donate":"“ö–∞–∑—ñ—Ä –∞—Å—ã—Ä–∞–ø –∞–ª—É","hero_title":"–ñ–∞“£–∞ –¥–æ—Å—ã“£–¥—ã —Ç–∞–ø","hero_sub":"”ò—Ä –∂–∞–Ω—É–∞—Ä“ì–∞ –∂—ã–ª—ã “Ø–π –∫–µ—Ä–µ–∫. “ö–∞—Ä–∞–ø —à—ã“ì—ã–ø, —Ç–∞–Ω—ã—Å—ã–ø, –∞—Å—ã—Ä–∞–ø –∞–ª.","hero_cta":"–ñ–∞–Ω—É–∞—Ä–ª–∞—Ä–¥—ã “õ–∞—Ä–∞—É","about_title":"–ë—ñ–∑ –∂–∞–Ω—É–∞—Ä–ª–∞—Ä –º–µ–Ω –∞–¥–∞–º–¥–∞—Ä–¥—ã“£ ”©–º—ñ—Ä—ñ–Ω –∂–∞“õ—Å–∞—Ä—Ç–∞–º—ã–∑","about_p1":"–ï—Ä—ñ–∫—Ç—ñ–ª–µ—Ä—ñ–º—ñ–∑ –º—ã—Å—ã“õ—Ç–∞—Ä –º–µ–Ω –∏—Ç—Ç–µ—Ä–¥—ñ “õ“±—Ç“õ–∞—Ä—ã–ø, –∫“Ø—Ç—ñ–º –∂–∞—Å–∞–ø, –∂–∞“£–∞ “Ø–π —Ç–∞–±—É“ì–∞ –∫”©–º–µ–∫—Ç–µ—Å–µ–¥—ñ.","c1":"–ê—Å—ã—Ä–∞–ø –∞–ª—É","c2":"–ï—Ä—ñ–∫—Ç—ñ–ª–µ—Ä","c3":"–ë–∞—Å–ø–∞–Ω–∞","pets_title":"–ê—Å—ã—Ä–∞–ø –∞–ª—É“ì–∞ –±–æ–ª–∞–¥—ã","pets_found":"–∂–∞–Ω—É–∞—Ä —Ç–∞–±—ã–ª–¥—ã","fav_title":"–¢–∞“£–¥–∞—É–ª—ã–ª–∞—Ä","fav_empty":"”ò–ª—ñ —Ç–∞“£–¥–∞—É–ª—ã–ª–∞—Ä –∂–æ“õ","fav_desc":"–ñ“Ø—Ä–µ–∫—Ç–µ—Ä–¥—ñ –±–∞—Å—ã–ø “õ–æ—Å—ã“£—ã–∑","copy_btn":"–¢–∞“£–¥–∞—É–ª—ã–ª–∞—Ä–¥—ã –∫”©—à—ñ—Ä—É","clear_btn":"–¢–∞–∑–∞—Ä—Ç—É","no_results":"–ñ–∞–Ω—É–∞—Ä–ª–∞—Ä —Ç–∞–±—ã–ª–º–∞–¥—ã","no_results_desc":"–°“Ø–∑–≥—ñ–ª–µ—Ä–¥—ñ ”©–∑–≥–µ—Ä—Ç—ñ–ø –∫”©—Ä—ñ“£—ñ–∑","quiz_title":"–ñ—ã–ª–¥–∞–º —Ç–µ—Å—Ç: –°—ñ–∑–≥–µ “õ–∞–π—Å—ã—Å—ã –ª–∞–π—ã“õ?","q1":"–ö“Ø–Ω—ñ–Ω–µ “õ–∞–Ω—à–∞ —É–∞“õ—ã—Ç –±”©–ª–µ –∞–ª–∞—Å—ã–∑?","q1a1":"1 —Å–∞“ì–∞—Ç—Ç–∞–Ω –∞–∑","q1a2":"1‚Äì2 —Å–∞“ì–∞—Ç","q1a3":"3+ —Å–∞“ì–∞—Ç","q2":"“ö–∞–Ω–¥–∞–π –±–µ–ª—Å–µ–Ω–¥—ñ–ª—ñ–∫ “õ–∞–∂–µ—Ç?","q2a1":"–¢—ã–Ω—ã—à","q2a2":"–û—Ä—Ç–∞—à–∞","q2a3":"”®—Ç–µ –±–µ–ª—Å–µ–Ω–¥—ñ","q3":"“Æ–π—ñ“£—ñ–∑–¥—ñ“£ –∫”©–ª–µ–º—ñ?","q3a1":"–ö—ñ—à–∫–µ–Ω—Ç–∞–π","q3a2":"–û—Ä—Ç–∞—à–∞","q3a3":"“Æ–ª–∫–µ–Ω","quiz_check":"–¢–µ–∫—Å–µ—Ä—É","form_title":"–ê—Å—ã—Ä–∞–ø –∞–ª—É ”©—Ç—ñ–Ω—ñ–º—ñ","f_name":"–ê—Ç—ã-–∂”©–Ω—ñ","f_name_err":"–ê—Ç—ã“£—ã–∑–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑","f_email":"–≠–ª. –ø–æ—à—Ç–∞","f_email_err":"–î“±—Ä—ã—Å —ç–ª. –ø–æ—à—Ç–∞ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑","f_pet":"“ö–∞–π –∂–∞–Ω—É–∞—Ä “±–Ω–∞–π–¥—ã","copy_code":"–ö”©—à—ñ—Ä—É","f_msg":"–•–∞–±–∞—Ä–ª–∞–º–∞","f_msg_err":"“Æ–π—ñ“£—ñ–∑ —Ç—É—Ä–∞–ª—ã –∂–∞–∑—ã“£—ã–∑","f_submit":"–ñ—ñ–±–µ—Ä—É"},
    "ru":{"nav_about":"–û –Ω–∞—Å","nav_pets":"–ñ–∏–≤–æ—Ç–Ω—ã–µ","nav_quiz":"–¢–µ—Å—Ç","nav_contact":"–ö–æ–Ω—Ç–∞–∫—Ç—ã","btn_donate":"–£—Å—ã–Ω–æ–≤–∏—Ç—å","hero_title":"–ù–∞–π–¥–∏ –Ω–æ–≤–æ–≥–æ –ª—É—á—à–µ–≥–æ –¥—Ä—É–≥–∞","hero_sub":"–ö–∞–∂–¥—ã–π –ø–∏—Ç–æ–º–µ—Ü –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –¥–æ–º. –í—ã–±–∏—Ä–∞–π –∏ —É—Å—ã–Ω–æ–≤–ª—è–π —Å–µ–≥–æ–¥–Ω—è.","hero_cta":"–°–º–æ—Ç—Ä–µ—Ç—å –∂–∏–≤–æ—Ç–Ω—ã—Ö","about_title":"–ú—ã —É–ª—É—á—à–∞–µ–º –∂–∏–∑–Ω—å –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ –ª—é–¥–µ–π","about_p1":"–ù–∞—à–∏ –≤–æ–ª–æ–Ω—Ç—ë—Ä—ã —Å–ø–∞—Å–∞—é—Ç, —É—Ö–∞–∂–∏–≤–∞—é—Ç –∏ –Ω–∞—Ö–æ–¥—è—Ç –¥–æ–º –∫–æ—à–∫–∞–º –∏ —Å–æ–±–∞–∫–∞–º.","c1":"–£—Å—ã–Ω–æ–≤–ª–µ–Ω–∏—è","c2":"–í–æ–ª–æ–Ω—Ç—ë—Ä—ã","c3":"–ü—Ä–∏—é—Ç—ã","pets_title":"–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã","pets_found":"–ø–∏—Ç–æ–º—Ü–µ–≤ –Ω–∞–π–¥–µ–Ω–æ","fav_title":"–ò–∑–±—Ä–∞–Ω–Ω–æ–µ","fav_empty":"–ü–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö","fav_desc":"–ù–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–∏","copy_btn":"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ","clear_btn":"–û—á–∏—Å—Ç–∏—Ç—å","no_results":"–ü–∏—Ç–æ–º—Ü—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã","no_results_desc":"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã","quiz_title":"–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç: –∫–∞–∫–æ–π –ø–∏—Ç–æ–º–µ—Ü –≤–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç?","q1":"–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã –º–æ–∂–µ—Ç–µ —É–¥–µ–ª—è—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ?","q1a1":"–ú–µ–Ω–µ–µ —á–∞—Å–∞","q1a2":"1‚Äì2 —á–∞—Å–∞","q1a3":"–ë–æ–ª–µ–µ 3 —á–∞—Å–æ–≤","q2":"–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏?","q2a1":"–°–ø–æ–∫–æ–π–Ω—ã–π","q2a2":"–°—Ä–µ–¥–Ω–∏–π","q2a3":"–û—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω—ã–π","q3":"–†–∞–∑–º–µ—Ä –∂–∏–ª—å—è?","q3a1":"–ú–∞–ª–µ–Ω—å–∫–æ–µ","q3a2":"–°—Ä–µ–¥–Ω–µ–µ","q3a3":"–ë–æ–ª—å—à–æ–µ","quiz_check":"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å","form_title":"–ó–∞—è–≤–∫–∞ –Ω–∞ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ","f_name":"–ü–æ–ª–Ω–æ–µ –∏–º—è","f_name_err":"–í–≤–µ–¥–∏—Ç–µ –∏–º—è","f_email":"Email","f_email_err":"–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email","f_pet":"–ò–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –ø–∏—Ç–æ–º–µ—Ü","copy_code":"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å","f_msg":"–°–æ–æ–±—â–µ–Ω–∏–µ","f_msg_err":"–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –¥–æ–º–µ","f_submit":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"}
  }</script>

	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
	<script>
		const t = JSON.parse(document.getElementById('i18nData').textContent);
		const pets = JSON.parse(document.getElementById('petData').textContent);
		let lang = localStorage.getItem('lang') || 'en';
		let theme = localStorage.getItem('theme') || 'light';
		let fav = JSON.parse(localStorage.getItem('fav') || '[]');
		let quizAnswers = {};

		document.documentElement.setAttribute('data-theme', theme);

		function applyLang() {
			const map = t[lang];
			$('[data-i18n]').each(function () {
				const k = $(this).data('i18n');
				if (map[k]) $(this).text(map[k]);
			});
			$('.lang').removeClass('active');
			$(`.lang[data-lang=${lang}]`).addClass('active');
		}

		function toast(msg) {
			$('#toasts').append(`<div class="toast-msg">${msg}</div>`)
				.children().last().hide().fadeIn(200).delay(2500).fadeOut(400, function () { $(this).remove(); });
		}

		function card(p) {
			const isFav = fav.includes(p.id);
			return `<div class="col-md-6 col-xl-4" data-aos="fade-up">
        <div class="pet-card h-100" data-id="${p.id}">
          <div class="position-relative">
            <img src="${p.images[0]}" class="w-100" style="height:240px;object-fit:cover" alt="${p.name}" loading="lazy"/>
            <div class="fav-heart ${isFav ? 'active' : ''}" data-id="${p.id}">
              ${isFav ? '‚ù§Ô∏è' : 'ü§ç'}
            </div>
          </div>
          <div class="p-3">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h5 class="m-0">${p.name}</h5>
              <span class="badge badge-species px-3">${p.species}</span>
            </div>
            <div class="small text-muted mb-2">${p.gender === 'M' ? '‚ôÇ' : '‚ôÄ'} ${p.gender} ‚Ä¢ ${p.age} ${p.age === 1 ? 'yr' : 'yrs'}</div>
            <p class="mb-3">${p.desc}</p>
            <button class="btn btn-sm btn-brand w-100 more" data-id="${p.id}">View details</button>
          </div>
        </div>
      </div>`;
		}

		function favItem(p) {
			return `<div class="fav-item" data-id="${p.id}">
        <img src="${p.images[0]}" alt="${p.name}">
        <div class="flex-grow-1">
          <div class="fw-semibold">${p.name}</div>
          <small class="text-muted">${p.species}</small>
        </div>
        <span class="remove" data-id="${p.id}">√ó</span>
      </div>`;
		}

		function updateFavorites() {
			const favPets = pets.filter(p => fav.includes(p.id));
			$('#favCount').text(fav.length);
			if (fav.length === 0) {
				$('#favorites').html(`<div class="text-center">
          <div class="fw-semibold mb-1" data-i18n="fav_empty">No favorites yet</div>
          <small class="d-block text-muted" data-i18n="fav_desc">Click hearts to add pets</small>
        </div>`);
			} else {
				$('#favorites').html(favPets.map(favItem).join(''));
			}
			applyLang();
		}

		let page = 1, per = 6;
		function render() {
			$('.loading-spinner').show();
			setTimeout(() => {
				const q = $('#search').val()?.toLowerCase() || '';
				const sp = $('#species').val();
				const sort = $('#sort').val();
				let arr = [...pets];

				if (q) arr = arr.filter(p => p.name.toLowerCase().includes(q));
				if (sp) arr = arr.filter(p => p.species === sp);
				arr.sort((a, b) => sort === 'age' ? a.age - b.age : a.name.localeCompare(b.name));

				const shown = arr.slice(0, page * per);
				$('#petCount').text(arr.length);
				$('#petGrid').html(shown.map(card).join(''));
				$('#loadMore').toggle(arr.length > shown.length);
				$('#emptyState').toggle(arr.length === 0);

				$('.loading-spinner').hide();
				AOS.refresh();
			}, 300);
		}

		function openLightbox(id) {
			const p = pets.find(x => x.id == id);
			const imgs = p.images;
			let idx = 0;

			$('#lbTitle').text(p.name);
			$('#lbSpecies').text(p.species);
			$('#lbMeta').text(`${p.gender === 'M' ? '‚ôÇ Male' : '‚ôÄ Female'} ‚Ä¢ ${p.age} ${p.age === 1 ? 'year' : 'years'} old`);
			$('#lbDesc').text(p.desc);
			$('#lbImg').attr('src', imgs[idx]);

			$('#indicators').html(imgs.map((_, i) => `<span class="${i === 0 ? 'active' : ''}" data-idx="${i}"></span>`).join(''));
			$('#lightbox').css('display', 'flex').hide().fadeIn(200);

			const updateImage = () => {
				$('#lbImg').fadeOut(100, function () { $(this).attr('src', imgs[idx]).fadeIn(100); });
				$('#indicators span').removeClass('active').eq(idx).addClass('active');
			};
			const nav = d => { idx = (idx + d + imgs.length) % imgs.length; updateImage(); };

			$('.carousel-lite .prev').off().on('click', () => nav(-1));
			$('.carousel-lite .next').off().on('click', () => nav(1));
			$('#indicators span').off().on('click', function () { idx = $(this).data('idx'); updateImage(); });

			$('#lbAdopt').off().on('click', () => {
				$('#fPet').val(p.name);
				$('#fCode').val(`PAW-${p.id}-${Date.now().toString().slice(-4)}`);
				$('#lightbox').fadeOut(150);
				toast('Pet added to application form!');
				$('html, body').animate({ scrollTop: $('#contact').offset().top - 80 }, 600);
			});
		}

		function setTheme(val) {
			document.documentElement.setAttribute('data-theme', val);
			localStorage.setItem('theme', val);
			$('#themeBtn').text(val === 'light' ? 'üåô' : '‚òÄÔ∏è');
		}

		function animateCounters() {
			$('.counter').each(function () {
				const el = $(this);
				const max = +el.data('count');
				let cur = 0;
				const step = Math.ceil(max / 80);
				const int = setInterval(() => {
					cur = Math.min(max, cur + step);
					el.text(cur);
					if (cur >= max) clearInterval(int);
				}, 25);
			});
		}

		$(function () {
			AOS.init({ once: true, duration: 700, offset: 100 });
			$('#year').text(new Date().getFullYear());
			applyLang();
			setTheme(theme);
			updateFavorites();
			render();

			const setNavState = () => {
				const y = window.scrollY || document.documentElement.scrollTop;
				$('.navbar').toggleClass('scrolled', y > 10);
			};
			setNavState();
			$(window).on('scroll', setNavState);

			$('#search, #species, #sort').on('input change', () => { page = 1; render(); });
			$('#loadMore').on('click', () => { page++; render(); });

			$('#petGrid').on('click', '.more', function () { openLightbox($(this).data('id')); });
			$('#petGrid').on('click', '.fav-heart', function (e) {
				e.stopPropagation();
				const id = $(this).data('id');
				const idx = fav.indexOf(id);
				if (idx > -1) {
					fav.splice(idx, 1);
					$(this).removeClass('active').text('ü§ç');
					toast('Removed from favorites');
				} else {
					fav.push(id);
					$(this).addClass('active').text('‚ù§Ô∏è');
					toast('Added to favorites!');
				}
				localStorage.setItem('fav', JSON.stringify(fav));
				updateFavorites();
			});

			$('#favorites').on('click', '.remove', function () {
				const id = $(this).data('id');
				fav = fav.filter(f => f !== id);
				localStorage.setItem('fav', JSON.stringify(fav));
				updateFavorites(); render();
				toast('Removed from favorites');
			});
			$('#favorites').on('click', '.fav-item', function () { openLightbox($(this).data('id')); });

			let dragCounter = 0;
			$('#petGrid').on('dragstart', '.pet-card', function (e) {
				e.originalEvent.dataTransfer.setData('text', $(this).data('id'));
				$(this).css('opacity', '0.5');
			});
			$('#petGrid').on('dragend', '.pet-card', function () { $(this).css('opacity', '1'); });
			$('#favorites')[0].addEventListener('dragenter', e => { e.preventDefault(); dragCounter++; $('#favorites').addClass('drag-over'); });
			$('#favorites')[0].addEventListener('dragleave', () => { dragCounter--; if (dragCounter === 0) $('#favorites').removeClass('drag-over'); });
			$('#favorites')[0].addEventListener('dragover', e => e.preventDefault());
			$('#favorites')[0].addEventListener('drop', e => {
				e.preventDefault(); dragCounter = 0; $('#favorites').removeClass('drag-over');
				const id = +e.dataTransfer.getData('text');
				if (!fav.includes(id)) { fav.push(id); localStorage.setItem('fav', JSON.stringify(fav)); updateFavorites(); render(); toast('Added to favorites!'); }
			});

			$('#copyFav').on('click', () => {
				if (fav.length === 0) { toast('No favorites to copy'); return; }
				const favNames = pets.filter(p => fav.includes(p.id)).map(p => p.name).join(', ');
				navigator.clipboard.writeText(favNames);
				toast('Favorites copied to clipboard!');
			});
			$('#clearFav').on('click', () => {
				if (fav.length === 0) return;
				if (confirm('Clear all favorites?')) {
					fav = []; localStorage.setItem('fav', '[]'); updateFavorites(); render(); toast('Favorites cleared');
				}
			});

			$('#lbClose').on('click', () => $('#lightbox').fadeOut(150));
			$('#lightbox').on('click', e => { if (e.target.id === 'lightbox') $('#lightbox').fadeOut(150); });

			$('#themeBtn').on('click', () => {
				const newTheme = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
				setTheme(newTheme);
				setNavState();
			});

			$('.lang').on('click', function () {
				lang = $(this).data('lang');
				localStorage.setItem('lang', lang);
				applyLang();
				toast('Language changed!');
			});

			$('.quiz .option').on('click', function () {
				const q = $(this).data('q');
				$(this).closest('.d-grid').find('.option').removeClass('selected');
				$(this).addClass('selected');
				quizAnswers[q] = $(this).data('score');
			});
			$('#quizCheck').on('click', function () {
				if (Object.keys(quizAnswers).length < 3) { toast('Please answer all questions!'); return; }
				const total = Object.values(quizAnswers).reduce((a, b) => a + b, 0);
				let result = '';
				if (total <= 4) { result = 'üê± A cat would be perfect for you!'; }
				else if (total <= 6) { result = 'üê∞ A rabbit or small pet suits your lifestyle!'; }
				else { result = 'üêï A dog would be a great companion!'; }
				$('#quizResult').text(result).hide().fadeIn();
				confetti({ particleCount: 100, spread: 60, origin: { y: .7 } });
			});

			const form = $('#adopt');
			form.on('submit', function (e) {
				e.preventDefault(); e.stopPropagation();
				if (this.checkValidity()) {
					$('#formToast').text('Thanks! We will contact you soon.').hide().fadeIn();
					confetti({ particleCount: 150, spread: 80, origin: { y: .8 }, colors: ['#ec4899', '#db2777', '#f472b6'] });
					setTimeout(() => { this.reset(); $('#fCode').val('PAW-'); $('#formToast').fadeOut(); }, 3000);
				} else {
					$(this).addClass('was-validated'); toast('Please fill in all required fields');
				}
			});
			$('#copyCode').on('click', () => { navigator.clipboard.writeText($('#fCode').val()); toast('Code copied to clipboard!'); });

			$(window).on('scroll', () => { $('#backTop').toggle($(window).scrollTop() > 300); });
			$('#backTop').on('click', () => { $('html, body').animate({ scrollTop: 0 }, 500); });

			let once = false;
			const io = new IntersectionObserver((e) => {
				if (!once && e[0].isIntersecting) { once = true; animateCounters(); }
			}, { threshold: .3 });
			io.observe(document.querySelector('#about'));

			$('a[href^="#"]').on('click', function (e) {
				const target = $(this.getAttribute('href'));
				if (target.length) {
					e.preventDefault();
					$('html, body').animate({ scrollTop: target.offset().top - 80 }, 600);
				}
			});
		});
	</script>
</body>

</html>